# M01922: Ride to School

implementation, http://cs101.openjudge.cn/pctbook/M01922/

Many graduate students of Peking University are living in Wanliu Campus, which is 4.5 kilometers from the main campus – Yanyuan. Students in Wanliu have to either take a bus or ride a bike to go to school. Due to the bad traffic in Beijing, many students choose to ride a bike.

We may assume that all the students except "Charley" ride from Wanliu to Yanyuan at a fixed speed. Charley is a student with a different riding habit – he always tries to follow another rider to avoid riding alone. When Charley gets to the gate of Wanliu, he will look for someone who is setting off to Yanyuan. If he finds someone, he will follow that rider, or if not, he will wait for someone to follow. On the way from Wanliu to Yanyuan, at any time if a faster student surpassed Charley, he will leave the rider he is following and speed up to follow the faster one.

We assume the time that Charley gets to the gate of Wanliu is zero. Given the set off time and speed of the other students, your task is to give the time when Charley arrives at Yanyuan.

**输入**

There are several test cases. The first line of each case is N (1 <= N <= 10000) representing the number of riders (excluding Charley). N = 0 ends the input. The following N lines are information of N different riders, in such format:

Vi [TAB] Ti

Vi is a positive integer <= 40, indicating the speed of the i-th rider (kph, kilometers per hour). Ti is the set off time of the i-th rider, which is an integer and counted in seconds. In any case it is assured that there always exists a nonnegative Ti.

**输出**

Output one line for each case: the arrival time of Charley. Round up (ceiling) the value when dealing with a fraction.

样例输入

```
4
20	0
25	-155
27	190
30	240
2
21	0
22	34
0
```

样例输出

```
780
771
```

来源: Beijing 2004 Preliminary@POJ





```python
import math

while True:
    n = int(input())
    if n == 0:
        break

    max_time = float("inf")
    for _ in range(n):
        speed, time = map(int, input().split())
        if time < 0:
            continue
        arrival_time = math.ceil((4500 / speed) * 3.6 + time)
        max_time = min(max_time, arrival_time)

    print(max_time)
```

写ceil（4500/（speed/3.6））就WA，写ceil（4500/speed*3.6）就AC，计算过程会影响精度 ?

原因：
speed / 3.6 中，3.6 在二进制中无法精确表示（3.6 = 18/5 是有理数，但二进制浮点不能精确存）
所以 speed / 3.6 先产生一个小误差
再做 4500 / ...，这个误差被放大
而 4500 / speed 是两个整数相除，相对更“干净”，再乘 3.6，误差传播较小


