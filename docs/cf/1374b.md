# 1374B. Multiply by 2, divide by 6

math, 900, http://codeforces.com/problemset/problem/1374/B

You are given an integer *n*. In one move, you can either multiply *n* by two or divide *n* by *6* (if it is divisible by *6* without the remainder).

Your task is to find the minimum number of moves needed to obtain *1* from *n* or determine if it's impossible to do that.

You have to answer *t* independent test cases.

**Input**

The first line of the input contains one integer *t*(1â‰¤tâ‰¤2â‹…10^4^) â€” the number of test cases. Then t test cases follow.

The only line of the test case contains one integer *n* (1â‰¤nâ‰¤10^9^).

**Output**

For each test case, print the answer â€” the minimum number of moves needed to obtain 1 from *n* if it's possible to do that or -1 if it's impossible to obtain 1 from *n*.

Example

input

```
7
1
2
3
12
12345
15116544
387420489
```

output

```
0
-1
2
-1
-1
12
36
```

Note

Consider the sixth test case of the example. The answer can be obtained by the following sequence of moves from the given integer 1511654415116544:

1. Divide by 66 and get 25194242519424;
2. divide by 66 and get 419904419904;
3. divide by 66 and get 6998469984;
4. divide by 66 and get 1166411664;
5. multiply by 22 and get 2332823328;
6. divide by 66 and get 38883888;
7. divide by 66 and get 648648;
8. divide by 66 and get 108108;
9. multiply by 22 and get 216216;
10. divide by 66 and get 3636;
11. divide by 66 and get 66;
12. divide by 66 and get 11.



```python
for _ in range(int(input())):
    t = int(input())
    cnt = 0
    while t!=1:
        if t%3==0 and t%2==0:
            t = t//6
            cnt += 1
        elif t%3==0 and t%2!=0:
            t *= 2
            cnt += 1
        else:
            print(-1); break
    else:
        print(cnt)
```



2020fall-cs101-é¡¾è‡»å®œçš„è§£é¢˜æ€è·¯ï¼šåªè¦ $ğ‘›=2^x 3^y$ ä¸” $ğ‘¦â‰¥ğ‘¥,\ ğ‘¥,ğ‘¦âˆˆğ‘$ å³å¯ï¼Œä¸”æœ€å¤šè¿›è¡Œ $2ğ‘™ğ‘œğ‘”_3 ğ‘›$ æ­¥ã€‚

å°çŸ¥è¯†ï¼šimport mathä¹‹åmath.logï¼ˆçœŸæ•°Nï¼Œåº•æ•°aï¼‰å°±æ˜¯ $ğ‘™ğ‘œğ‘”_a ğ‘$ã€‚

```python
import math

for _ in range(int(input())):
    n = int(input())
    x = 0
    for i in range(2*(1+int(math.log(n,3)))):
        if n/6 == int(n/6):
            n /= 6
            x += 1
        else:
            if n/3 == int(n/3):
                n *= 2
                x += 1
    
print(x if n==1 else -1)
```

2020fall-cs101-é»„æ—­æ€è·¯ï¼šå¦‚æœä¸€ä¸ªæ•°åœ¨ç»è¿‡é¢˜ç›®æ‰€è¯´æ“ä½œä¹‹åå¯ä»¥å¾—åˆ° 1ï¼Œé‚£ä¹ˆä¸€å®šåœ¨æ¯ä¸€ä¸ªæ­¥éª¤ä¸­éƒ½æ˜¯ 3çš„å€æ•°ï¼Œäºæ˜¯åœ¨å¾ªç¯ä¸­ä¸€æ—¦å‘ç°è¯¥æ•°ä¸æ˜¯ 3çš„å€æ•°ï¼Œå°±è·³å‡ºå¾ªç¯ï¼Œåä¹‹å°±ä¸€ç›´è¿›è¡Œ*2æˆ–è€…/6çš„æ“ä½œï¼Œç›´åˆ°ç­‰äºä¸€ä¸ºæ­¢ï¼Œè®°å½•æ“ä½œæ¬¡æ•°ï¼Œè‹¥ç»“æœä¸º 1åˆ™è¾“å‡ºæ“ä½œæ¬¡æ•°ï¼Œåä¹‹è¾“å‡º-1ã€‚

```python
for i in range(int(input())):
    x = int(input())
    a = 0
    while x!=1:
        if x%3:
            break
        elif x%6==0:
            x=x/6
            a+=1
        else:
            x*=2
            a+=1
    print([a,-1][x!=1])
```

2021fall-cs101-å‰ç¥¥ç‘ï¼Œè§£é¢˜æ€è·¯ï¼šå…ˆä¸€ç›´å°†é™¤ä»¥6ï¼Œç›´è‡³ä¸èƒ½é™¤å°½ã€‚å†ä¸€ç›´å°†ä¹˜ä»¥2åé™¤ä»¥6ï¼Œå³å°†é™¤ä»¥3ï¼Œç›´è‡³ä¸èƒ½é™¤å°½ã€‚è‹¥æ­¤æ—¶ä¸æ˜¯1ï¼Œåˆ™è¯´æ˜æ— æ³•å®ç°ã€‚

```python
t = int(input())
for _ in range(t):
    n = int(input())
    s = 0
    while n%6 == 0:
        n = int(n/6)
        s += 1
    while n%3 == 0:
        n = int(n/3)
        s += 2
    if n == 1:
        print(s)
    else:
        print(-1)
```



```python
def min_moves_to_one(t, test_cases):
    results = []
    for n in test_cases:
        moves = 0
        while n != 1:
            if n % 6 == 0:
                n //= 6
            elif n % 3 == 0:
                n *= 2
            else:
                moves = -1
                break
            moves += 1
        if n == 1:
            results.append(moves)
        else:
            results.append(-1)
    return results

# Input reading
import sys
input = sys.stdin.read
data = input().split()

t = int(data[0])
test_cases = [int(data[i]) for i in range(1, t + 1)]

# Get results
results = min_moves_to_one(t, test_cases)

# Print results
for result in results:
    print(result)
```




