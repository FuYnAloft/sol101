# 1749C. Number Game

binary search/data structure/games/greedy/implementation, 1400, https://codeforces.com/problemset/problem/1749/C

Alice and Bob are playing a game. They have an array of positive integers ğ‘ of size ğ‘›.

Before starting the game, Alice chooses an integer ğ‘˜â‰¥0. The game lasts for ğ‘˜ stages, the stages are numbered from 1 to ğ‘˜. During the ğ‘–-th stage, Alice must remove an element from the array that is less than or equal to $ğ‘˜âˆ’ğ‘–+1$. After that, if the array is not empty, Bob must add $ğ‘˜âˆ’ğ‘–+1$ to an arbitrary element of the array. Note that both Alice's move and Bob's move are two parts of the same stage of the game. If Alice can't delete an element during some stage, she loses. If the ğ‘˜-th stage ends and Alice hasn't lost yet, she wins.

Your task is to determine the maximum value of ğ‘˜ such that Alice can win if both players play optimally. Bob plays against Alice, so he tries to make her lose the game, if it's possible.

**Input**

The first line contains a single integer ğ‘¡ (1â‰¤ğ‘¡â‰¤100) â€” the number of test cases.

The first line of each test case contains a single integer ğ‘› (1â‰¤ğ‘›â‰¤100) â€” the size of the array ğ‘.

The second line contains ğ‘›n integers $ğ‘_1,ğ‘_2,â€¦,ğ‘_ğ‘› (1â‰¤ğ‘_ğ‘–â‰¤ğ‘›)$.

**Output**

For each test case, print one integer â€” the maximum value of ğ‘˜k such that Alice can win if both players play optimally.

Example

**input**

```
4
3
1 1 2
4
4 4 4 4
1
1
5
1 3 2 1 1
```

**output**

```
2
0
1
3
```



1749C - Nubmer Game Tutorial, https://codeforces.com/blog/entry/108269

Note that if Bob has increased some element, then Alice can't remove it on the next stages. Obviously, it is more profitable for Bob to "prohibit" the smallest element of the array. Using this fact, we can iterate over the value of ğ‘˜, and then simulate the game process. To simulate the game, we can maintain the set of elements that Alice can remove. On the ğ‘–-th stage, Alice removes the maximum element ğ‘¥, such that $ğ‘¥â‰¤ğ‘˜âˆ’ğ‘–+1$, if there are no such elements, then Alice lost. Bob always removes the minimum element of the set.

Thus, the complexity of the solution is $ğ‘‚(ğ‘›^2logğ‘›)$ for each test case.

There is another possible solution: we can notice that, if Alice wins, Bob will "prohibit" the elements on positions 1,2,â€¦,ğ‘˜âˆ’1 of the sorted array. So, Alice has to delete the next ğ‘˜ elements. So, if the segment [ğ‘˜â€¦2ğ‘˜âˆ’1] of the sorted array can be deleted by Alice during the game phases, she wins with this value of ğ‘˜.



ä¸ºäº†é‡‡å–æœ€ä¼˜ç­–ç•¥ï¼ŒBobå°½é‡ä»å°çš„æ•°å¼€å§‹å¢åŠ k-i+1ï¼Œè€Œå¢åŠ åçš„æ•°å°†æ— æ³•åœ¨ä»¥åçš„æ­¥éª¤ä¸­è¢«Aliceé€‰å–ï¼Œä¸ºåœ¨åç»­æ­¥éª¤ä¸­èƒ½å¤Ÿç»§ç»­é€‰å–ï¼ŒAliceå°½é‡å–æ»¡è¶³æ¡ä»¶çš„æœ€å¤§æ•°æ¥ç§»é™¤ã€‚

```python
#import sys
from bisect import bisect_right
#from collections import deque

def solve():
    n = int(input())
    a = list(map(int, input().split()))

    res = 0

    for k in range(1, n + 1):
        s = sorted(a)

        for i in range(1, k + 1):
            idx = bisect_right(s, k - i + 1)
            if idx == 0:
                break

            s.pop(idx - 1)

            if s:
                now = s.pop(0)
                s.append(now + k - i + 1)
                s.sort()

        if len(s) + k == n:
            res = k

    print(res)

def main():
    t = int(input())
    for _ in range(t):
        solve()

if __name__ == "__main__":
    main()
```





```python
# 2022fall-cs101, æ¢åŠ›æ½‡

t=int(input())
for i in range(t):
    n=int(input())
    l=list(map(int,input().split()))
    l.sort()
    if l.count(1)==0:
        print(0)
        continue
    
    c=min(l.count(1),(n+1)//2)
    l.remove(1)
    for j in range(1,c+1):
        if l.count(1)==0:
            print(j)
            break

        l.remove(1)
        d=[y for y in l if y<=j+1]
        if d==[]:
            print(j)
            break
        else:
            l.remove(max(d))
```



```python
#from collections import deque
#from bisect import bisect_left
 
for _ in range(int(input())):
    n = int(input())
    *nums, = map(int,input().split())
    numse = sorted(nums)
    
    flag = True
    if 1 not in nums:
        print(0)
        continue
    
    for k in range(n+1):
        nums = numse.copy()
        for i in range(1,k+1):
            if len(nums):
                d = k-i+1
                j = 0
                while j<len(nums) and nums[j]<= d:
                    j+=1
                if nums[j-1]> d:
                    flag = False
                    break
                else:
                    nums.pop(j-1)
                    if len(nums):
                        nums[0]+=d
                        nums.sort()
            else:
                break
        if not flag:
            break
    print(k-1 if not flag else k)
```



2022fall-cs101ï¼Œæ¨æ˜Šæ˜†ã€‚å…ˆè€ƒè™‘æ¸…æ¥šæœ€åä¸€æ­¥å¿…é¡»å–1ï¼Œä¹Ÿå°±æ˜¯ k<=1 çš„ä¸ªæ•°,è¿™æ ·å°±å®Œæˆäº†ç¬¬ä¸€æ¬¡å‰ªæï¼›å…¶æ¬¡ï¼Œæ€è€ƒ Aliceçš„ç­–ç•¥æ˜¯åˆ æ‰æœ€å¤§çš„æ•°ï¼ŒBob çš„ç­–ç•¥æ˜¯æŠŠ k-i+1 åŠ åˆ°æœ€å°çš„æ•°å­—ä¸Šï¼›ç„¶åå†è€ƒè™‘â€œæœ‰æ•ˆæ•°å­—â€çš„é—®é¢˜ï¼Œä¾‹å¦‚ç¬¬ä¸€æ­¥ï¼Œå¦‚æœæ•°åˆ—ä¸­æœ‰è‹¥å¹²ä¸ªkï¼Œå®é™…ä¸Šæœ€åä¹Ÿåªèƒ½å¯¹ä¸€ä¸ª k è¿›è¡Œåˆ é™¤æ“ä½œï¼Œå› æ­¤ k çš„æœ‰æ•ˆæ•°å­—å°±æ˜¯ 1ã€‚æ’é™¤äº†æ— æ•ˆæ•°å­—çš„å½±å“åï¼Œä¹Ÿå°±ä¸éš¾å¾—å‡ºæ€»æœ‰æ•ˆæ•°å­—>=2k-1 çš„æ¡ä»¶äº†ã€‚



2022fall-cs101ï¼Œé™ˆæ€æºã€‚è¿™ä¸ªé¢˜ç›®éœ€è¦æƒ³åˆ°æ­£ç¡®çš„è´ªæ³•ã€‚æ³¨æ„è¿™æ ·çš„äº‹æƒ…ï¼šæœ€åä¸€è½®æ€»æ˜¯Alice å–èµ°1 æ‰èƒ½èµ¢ï¼Œæ‰€ä»¥Bob çš„æœ€ä¼˜ç­–ç•¥æ˜¯ç ´åAlice çš„1ï¼Œè€Œä¸æ˜¯ç ´åAlice å³å°†æ‹¿èµ°ã€‚



ğ‘˜ è‡³å°‘å¯¹åº” 2ğ‘˜-1 ä¸ªæ•°å­—ï¼Œğ‘˜ æ­¥ä¹‹å Alice è¦é€‰æ‹© ğ‘˜-i+1 = 1ï¼Œé‚£ä¹ˆ n ä¸ªæ•°ä¸­è‡³å°‘éœ€è¦æœ‰ ğ‘˜-1 ä¸ª1ã€‚

```python
def solve():
 
    n = int(input())
    a = sorted(map(int, input().split()))
    ans = 0
    for i in range(n):
        l = 0; r = i 
        c = (i+2)//2
        chk = 0
        while l <= r:
            if a[r] <= c-l:
                r -= 1 ; l += 1
            else:
                chk = 1
                break
        if chk == 0:  ans = c
          
    print(ans)
 
if __name__ == "__main__":
    #for i in range(inp()):
    for i in range(int(input())):
        solve()
```



2022fall-cs101ï¼Œæœ±ä¿¡éœ–ï¼Œç‰©ç†å­¦é™¢

è€ƒè™‘ç”¨è´ªå¿ƒç®—æ³•ï¼Œkä»1é€æ¸å¢å¤§ã€‚å–å‡ºå‰k-1ä¸ª1åï¼Œä¹‹åçš„kä¸ªæ•°æ»¡è¶³a[i]>i+1ã€‚å½“ä»¥ä¸Šæ¡ä»¶ä¸æ»¡è¶³æ—¶ï¼Œè®¡ç®—ç»“æŸã€‚
è¿è¡Œæ—¶é—´ï¼š31msã€‚æ—¶å½“å‰CFä¸Šä½¿ç”¨python3è§£é¢˜çš„æœ€çŸ­è€—æ—¶ã€‚

```python
t = int(input())
for _ in range(t):
    n = int(input())
    lis = [int(x) for x in input().split()]
    lis.sort()
    num = lis.count(1)
    s = min(num,n//2+n%2)
    check = False
    for k in range(1,s+1):
        lists = lis[k-1:2*k-1]
        for i in range(k):
            if lists[i] > i+1:
                check = True
                break
        if check:
            s = k-1
            break
    print(s)
```



2022fall-cs101ï¼Œèƒ¡é–è‹‘ï¼Œç”Ÿå‘½ç§‘å­¦å­¦é™¢

æ€è·¯ï¼šè¿™é“é¢˜æ¯”æƒ³è±¡ä¸­ç®€å•ï¼Œæ‰¾åˆ°ä¸¤ä¸ªäººé‡‡å–çš„ç­–ç•¥ï¼Œæ ¹æ®ç­–ç•¥æ‰¾åˆ°éœ€è¦çš„æ¡ä»¶å°±è¡Œäº†ã€‚

```python
import bisect
output=[]
for _ in range(int(input())):
	n=int(input())
	a=sorted(list(map(int,input().split())))
	k=a.count(1)
	while k>0:
		flag=1
		p=k
		while p>=1:
			j=bisect.bisect(a,p)
			if j<k+p-1:
				flag=0
				break
			else:
				p-=1
		if flag==1:
			output.append(str(k))
			break
		else:
			k-=1
	if k==0:
		output.append(str(0))

print('\n'.join(output))
```



2022fall-cs101ï¼Œæˆå‡Œå®‡ï¼Œç‰©ç†å­¦é™¢ã€‚

æœ¬æ¥æ˜¯æ‰“ç®—æœŸä¸­è€ƒè¯•ä¹‹åå†ç»†æƒ³è¿™ä¸ªä»£ç çš„æ€è·¯ï¼Œä½†æ˜¯å›å¯å®¤ä»¥åå’ŒåŒå­¦è®¨è®ºäº†ä¸€ä¸‹ï¼Œçªç„¶å‘ç°è¿™ä¸ªä»£ç éå¸¸å¦™ã€‚ä¸‹é¢ç»™å‡ºæˆ‘çš„çœ‹æ³•ï¼Œé¦–å…ˆ Alice ä¸€å®šä»æœ€å¤§çš„å¼€å§‹å»ï¼ŒBob ä¸€å®šæ˜¯ä»æœ€å°çš„å¼€å§‹åŠ ï¼Œé‚£ä¹ˆå¦‚æœæœ€å Alice èµ¢ï¼Œé‚£ä¹ˆ Bob ä¸€å®šå–äº†å‰ k âˆ’1 ä¸ªï¼Œæ‰€ä»¥è¦æ±‚ $a[k âˆ’1] â‰¤1, a[k] â‰¤2, Â·Â·Â·, a[2k âˆ’2] â‰¤k$ï¼Œå³ $a[k âˆ’1 + i] â‰¤i + 1$ï¼ŒåŒæ—¶ $k âˆ’1 + i < n$ã€‚å¦‚æœæ˜¯æˆ‘æ¥åšçš„è¯ï¼Œå¯èƒ½æƒ³ä¸åˆ°è¿™ç§è§£æ³•ï¼Œåº”è¯¥æ˜¯ä¼šæŒ‰ç…§é¢˜ç›®çš„æ“ä½œé¡ºåºå»æ¨¡æ‹Ÿï¼Œæˆ‘è§‰å¾—è¿™æ ·
æ˜¯å¯èƒ½è¶…æ—¶è€Œä¸”å†™ä»£ç å¯èƒ½ä¼šæ¯”è¾ƒè´¹åŠ²ã€‚

```python
for _ in range(int(input())):
	n = int(input())
	a = sorted(list(map(int, input().split())))
	for k in range(n, -1, -1):
		if all(k - 1 + i < n and a[k - 1 + i] <= i + 1 for i in range(k)):
			print(k)
			break
```


